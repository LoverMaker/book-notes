## JAVA 并发编程的艺术读书笔记

#### 一、并发编程的挑战主要面临的挑战:  上下文切换、死锁、软硬件资源限制

1. 减少上下文切换的方法有无锁并发编程、CAS算法、使用最少线程和使用协程。
2.  避免死锁的常见方法
   * 避免一个线程同时获取多个锁。
   * 避免一个线程在锁内同时占用多个资源，尽量保证每个锁只占用一个资源。
   * 尝试使用定时锁，使用```lock.tryLock（timeout）```来替代使用内部锁机制。
   * 对于数据库锁，加锁和解锁必须在一个数据库连接里，否则会出现解锁失败的情况。
3. 并发编程时需要根据不同的资源限制调整程序的并发度
4. 解决资源限制
   * 对于硬件资源限制，可以考虑使用集群并行执行程序。
   * 对于软件资源限制，可以考虑使用资源池将资源复用

####  二、Java并发机制的底层实现原理

1. volatile多处理器开发中保证了共享变量的“可见性”, 当一个线程
   修改一个共享变量时，另外一个线程能读到这个修改的值。
2. synchronized实现同步的3种形式:
   * 对于普通同步方法，锁是当前实例对象。
   * 对于静态同步方法，锁是当前类的Class对象。
   * 对于同步方法块，锁是synchonized括号里配置的对象。
3. synchronized代码块同步是使用monitorenter和monitorexit指令实现的
4. 处理器提供总线锁定和缓存锁定两个机制来保证复杂
   内存操作的原子性。
5. 在Java中可以通过锁和循环CAS(Compare And Swap)的方式来实现原子操作。
6. CAS实现原子操作的三大问题：
   * ABA问题
   * 循环时间长开销大
   * 只能保证一个共享变量的原子操作
7. 锁机制保证了只有获得锁的线程才能够操作锁定的内存区域
8. JVM内部实现了很多种锁机制，有偏向锁、轻量级锁和互斥锁（这里锁的实现需要补充）

#### Java内存模型

#### Java并发编程基础

####  Java中的锁

#### 并发容器和框架

#### 原子操作类

#### 并发工具类

#### Executor框架

#### Java并发编程实践

